@using GalerijaG3.Models
@{
    Layout = null;
    ViewBag.Title = "Dodavanje slika";
}

<!DOCTYPE html>

@{

    <!-- INIT -->

    Korisnik korisnik = (Korisnik)HttpContext.Current.Session["korisnik"];
    Dictionary<string, Galerija> galerije = (Dictionary<string, Galerija>)HttpContext.Current.Application["galerije"];

    <!-- INIT -->

}

<html>
<head>
    <link rel="stylesheet" href="~/Content/PrikazSlikaStyle.css">
    <meta name="viewport" content="width=device-width" />
</head>
<body>

    <!-- MENI -->

    <ul>
        <li><a class="active" href="~/Slike/Index">Home</a></li>
        <li><a href="~/Login/Odjava">Odjava</a></li>
    </ul>
    <p class="korisnikPrikaz">
        Administrator: @korisnik.ime @korisnik.prezime
    </p>

    <!-- MENI -->

    <div class="app-title">
        <h1>Kreiranje slike</h1>
    </div>

    <!-- GRESKE -->

    @if (ViewBag.ErrorMessages != null && ViewBag.ErrorMessages.Count > 0)
    {
        foreach (string error in ViewBag.ErrorMessages)
        {
            <p style="color:darkred; text-align:center">
                @error <br>
            </p>
        }
    }
    <br><br>

    <!-- GRESKE -->

    <form action="~/Slike/DodajSliku" method="post" class="login-form">
        <table class="control-group">
            <tr>
                <td><input type="text" class="login-field" placeholder="Unesite naziv slike" name="naziv" required></td>
                <td><input type="text" class="login-field" placeholder="Unesite ime autora" name="autor" required></td>
            </tr>
            <tr>
                <td><input type="number" class="login-field" placeholder="Unesite godinu izrade" name="godinaIzrade" required></td>
                <td><input type="text" class="login-field" placeholder="Unesite tehniku izrade" name="tehnika" required></td>
            </tr>
            <tr>
                <td><input type="number" class="login-field" placeholder="Unesite cenu slike" name="cena" required></td>
                <td><input type="text" class="login-field-double" placeholder="Unesite opis slike" name="opis" required></td>
            </tr>
            <tr>
                <td>
                    <input list="bool" name="naProdaju" placeholder="Da li je slika na prodaju" required />
                    <datalist id="bool">
                        <option value="TRUE"></option>
                        <option value="FALSE"></option>
                    </datalist>
                </td>
                <td>
                    <input list="imeGalerije" name="galerija" placeholder="Galerija za izlaganje" required />
                    <datalist id="imeGalerije">
                        @{
                            foreach (Galerija g in galerije.Values)
                            {
                                if (g.obrisana != true)
                                {
                                    <option value=@g.naziv></option>
                                }
                            }
                        }
                    </datalist>
                </td>
            </tr>
            <tr>
                <td colspan="2"><input type="submit" class="btn btn-primary btn-large btn-block" value="Potvrdi"></td>
            </tr>
        </table>
    </form>

    <br>

</body>
</html>
